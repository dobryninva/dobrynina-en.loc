var Sticky=window.Sticky||{};(Sticky=function(){var n=0;return function(i,t){var e=this;e.defaults={indent:0,mobileFirst:!1,respondTo:"window",responsive:null},e.initials={$sticker_under:null,currentIndent:0,paused:!1,unsticked:!1},$.extend(e,e.initials),e.activeBreakpoint=null,e.breakpoints=[],e.breakpointSettings=[],e.$sticker=$(i),e.windowWidth=0,i=$(i).data("sticky")||{},e.options=$.extend({},e.defaults,t,i),e.currentIndent=e.options.indent,e.originalSettings=e.options,e.instanceUid=n++,e.registerBreakpoints(),e.init(!0)}}()).prototype.init=function(i){var t=this;$(t.$sticker).hasClass("sticky-initialized")||($(t.$sticker).addClass("sticky-initialized"),t.buildOut(),t.initializeEvents(),t.checkResponsive(!0)),i&&t.$sticker.trigger("init",[t])},Sticky.prototype.buildOut=function(){var i=this;i.$sticker.next(".under_fixed").length||i.$sticker.after('<div class="under_fixed" style="height: '+i.$sticker.outerHeight()+'px;"></div>'),i.$sticker_under=i.$sticker.next(".under_fixed"),i.position_check()},Sticky.prototype.sticker_under_upd=function(){var i=this;i.paused||(i.$sticker.hasClass("fixed")&&i.$sticker.removeClass("fixed"),i.$sticker_under.height(i.$sticker.outerHeight()))},Sticky.prototype.position_check=function(i){var t,e=this;e.paused||(void 0===i&&(i=e.currentIndent),t=$(window).scrollTop(),e.$sticker.hasClass("fixed")?t<=e.$sticker_under.offset().top+i&&e.$sticker.removeClass("fixed"):e.$sticker.offset().top+i<t&&e.$sticker.addClass("fixed"))},Sticky.prototype.initializeEvents=function(){var i=this;$(window).on("resize.sticky.sticky-"+i.instanceUid,$.proxy(i.resize,i)),$(window).on("scroll.sticky.sticky-"+i.instanceUid,$.proxy(i.scroll,i)),$(window).on("load.sticky.sticky-"+i.instanceUid,$.proxy(i.load,i))},Sticky.prototype.checkResponsive=function(i,t){var e,n,s,o=this,r=!1,c=o.$sticker.width(),p=window.innerWidth||$(window).width();if("window"===o.respondTo?s=p:"sticker"===o.respondTo?s=c:"min"===o.respondTo&&(s=Math.min(p,c)),o.options.responsive&&o.options.responsive.length&&null!==o.options.responsive){for(e in n=null,o.breakpoints)o.breakpoints.hasOwnProperty(e)&&(!1===o.originalSettings.mobileFirst?s<o.breakpoints[e]&&(n=o.breakpoints[e]):s>o.breakpoints[e]&&(n=o.breakpoints[e]));null!==n?null!==o.activeBreakpoint&&n===o.activeBreakpoint&&!t||(o.activeBreakpoint=n,"unsticky"===o.breakpointSettings[n]?o.unsticky(n):"paused"===o.breakpointSettings[n]?o.pause(n):(o.options=$.extend({},o.originalSettings,o.breakpointSettings[n]),o.paused=!1,o.currentIndent=o.options.indent,o.sticker_under_upd(),o.position_check()),r=n):null!==o.activeBreakpoint&&(o.activeBreakpoint=null,o.options=o.originalSettings,o.paused=!1,o.currentIndent=o.options.indent,o.sticker_under_upd(),o.position_check(),r=n),i||!1===r||o.$sticker.trigger("breakpoint",[o,r])}},Sticky.prototype.registerBreakpoints=function(){var i,t,e,n=this,s=n.options.responsive||null;if("array"===$.type(s)&&s.length){for(i in n.respondTo=n.options.respondTo||"window",s)if(e=n.breakpoints.length-1,s.hasOwnProperty(i)){for(t=s[i].breakpoint;0<=e;)n.breakpoints[e]&&n.breakpoints[e]===t&&n.breakpoints.splice(e,1),e--;n.breakpoints.push(t),n.breakpointSettings[t]=s[i].settings}n.breakpoints.sort(function(i,t){return n.options.mobileFirst?i-t:t-i})}},Sticky.prototype.resize=function(){var i=this;$(window).width()!==i.windowWidth&&(clearTimeout(i.windowDelay),i.windowDelay=window.setTimeout(function(){i.windowWidth=$(window).width(),i.checkResponsive(),i.unsticked||(i.sticker_under_upd(),i.position_check())},50))},Sticky.prototype.scroll=function(){this.unsticked||this.position_check()},Sticky.prototype.load=function(){var i=this;i.unsticked||(i.sticker_under_upd(),i.position_check())},Sticky.prototype.unsticky=function(i){var t=this;t.$sticker.trigger("unsticky",[t,i]),t.destroy()},Sticky.prototype.pause=function(i){var t=this;t.$sticker.removeClass("fixed"),t.$sticker.trigger("paused",[t,i]),t.paused=!0},Sticky.prototype.destroy=function(i){var t=this;t.cleanUpEvents(),t.$sticker_under&&t.$sticker_under.remove(),t.$sticker.removeClass("sticky-initialized fixed"),t.unsticked=!0,i||t.$sticker.trigger("destroy",[t])},Sticky.prototype.cleanUpEvents=function(){var i=this;$(window).off("resize.sticky.sticky-"+i.instanceUid,i.resize),$(window).off("scroll.sticky.sticky-"+i.instanceUid,i.scroll),$(window).off("load.sticky.sticky-"+i.instanceUid,i.load)},$.fn.sticky=function(){for(var i,t=this,e=arguments[0],n=Array.prototype.slice.call(arguments,1),s=t.length,o=0;o<s;o++)if("object"==typeof e||void 0===e?t[o].sticky=new Sticky(t[o],e):i=t[o].sticky[e].apply(t[o].sticky,n),void 0!==i)return i;return t};