function favoriteHandler(){this.setCookie=function(t,e,i){var o;o=void 0!==i?((o=new Date).setTime(o.getTime()+1e3*i),"; expires="+o.toGMTString()):"",document.cookie=t+"="+e+o+"; path=/"},this.getCookie=function(t){t+="=";for(var e=document.cookie.split(";"),i=0;i<e.length;i++){for(var o=e[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return unescape(o.substring(t.length,o.length))}return null},this.deleteCookie=function(t){this.setCookie(t,"",-1)},this.set=function(t,e){var i=null!=this.getCookie("favoriteList")?this.getCookie("favoriteList"):"",o=0<i.length?i.split(","):new Array,i='.shk-item[data-id="'+t+'"]';"function"==typeof fvtOnToFavoriteCheckClicked&&fvtOnToFavoriteCheckClicked(t,e),-1<o.indexOf(t.toString())?(o.splice(o.indexOf(t.toString()),1),$(i).find(".item_favorite").removeClass("active").addClass("inactive")):(o.push(t.toString()),$(i).find(".item_favorite").addClass("active").removeClass("inactive")),0==o.length?this.deleteCookie("favoriteList"):this.setCookie("favoriteList",o.join(","),1314e3),$(".favorite_count").text(o.length),0<o.length?$(".hdr_favorite").hasClass("active")||$(".hdr_favorite").addClass("active"):$(".hdr_favorite").removeClass("active"),this.request("update")},this.request=function(t){console.log("request: "+t),$.ajax({method:"POST",url:"/ajax.html",data:{method:"addToFavorite",task:t},success:function(t,e){}})},this.updateProducts=function(){var t=null!=this.getCookie("favoriteList")?this.getCookie("favoriteList"):"",t=0<t.length?t.split(","):new Array;t.length&&$.each(t,function(t,e){$('.shk-item[data-id="'+e+'"]').find(".item_favorite").addClass("active").removeClass("inactive")})}}var favorite=new favoriteHandler;