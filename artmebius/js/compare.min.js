function compareHandler(){this.setCookie=function(e,t,o){var i;i=void 0!==o?((i=new Date).setTime(i.getTime()+1e3*o),"; expires="+i.toGMTString()):"",document.cookie=e+"="+t+i+"; path=/"},this.getCookie=function(e){e+="=";for(var t=document.cookie.split(";"),o=0;o<t.length;o++){for(var i=t[o];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(e))return unescape(i.substring(e.length,i.length))}return null},this.deleteCookie=function(e){this.setCookie(e,"",-1)},this.toCompareLink=function(){"string"!=typeof this.getCookie("shkCompareIds")&&this.setCookie("shkCompareIds","",1314e3);var e=null!=this.getCookie("shkCompareIds")?this.getCookie("shkCompareIds"):"";return!((0<e.length?e.split(","):new Array).length<=1)||("function"==typeof cmpOnToCompareLinkMinimum?cmpOnToCompareLinkMinimum():alert("Для сравнения необходимо выбрать минимум 2 товара."),!1)},this.toCompare=function(e,t,o){var i=null!=this.getCookie("shkCompareIds")?this.getCookie("shkCompareIds"):"",r=0<i.length?i.split(","):new Array,n=null!=this.getCookie("shkCompareParent")?this.getCookie("shkCompareParent"):t,s=new Array,i='.shk-item[data-id="'+e+'"]',i=document.querySelectorAll(i);if("function"==typeof cmpOnToCompareCheckClicked&&cmpOnToCompareCheckClicked(e,t,o),r.indexOf(e.toString())<0){if(i.forEach(function(e,t,o){e.querySelector(".item_compare").classList.add("active"),e.querySelector(".item_compare").classList.remove("inactive")}),0!=cmpr_config.onlyThisParentId&&n!=t)return!!("function"==typeof cmpOnToCompareFromAnotherCategory?cmpOnToCompareFromAnotherCategory():confirm("Вы можете сравнивать товары одной категории.  При добавлении данного товара в список старые данные будут удалены."))&&(this.setCookie("shkCompareIds",e,1314e3),this.setCookie("shkCompareParent",t,1314e3),window.location.reload(),!0);if(0<cmpr_config.limitProducts&&r.length==cmpr_config.limitProducts)return"function"==typeof cmpOnToCompareLimitReached?cmpOnToCompareLimitReached(cmpr_config.limitProducts):alert("Вы можете выбрать "+cmpr_config.limitProducts+" позиции для сравнения."),!1;if(-1<r.indexOf(e.toString()))return!0;(s=r).push(e.toString())}else{i.forEach(function(e,t,o){e.querySelector(".item_compare").classList.remove("active"),e.querySelector(".item_compare").classList.add("inactive")});for(var a=0;a<r.length;a++)r[a]!=e&&s.push(r[a])}return 0==s.length?(this.deleteCookie("shkCompareIds"),this.deleteCookie("shkCompareParent")):(this.setCookie("shkCompareIds",s.join(","),1314e3),this.setCookie("shkCompareParent",t,1314e3)),null!=document.getElementById("skolko_vibrano")&&(document.getElementById("skolko_vibrano").innerHTML=s.length),0<s.length?document.querySelector(".hdr_compare").classList.add("active"):document.querySelector(".hdr_compare").classList.remove("active"),null!=document.getElementById("sravnenie_otmena")&&(0==s.length?document.getElementById("sravnenie_otmena").style.display="none":document.getElementById("sravnenie_otmena").style.display="inline"),!0},this.updateProducts=function(){var e=null!=this.getCookie("shkCompareIds")?this.getCookie("shkCompareIds"):"",e=0<e.length?e.split(","):new Array;e.length&&e.forEach(function(e,t,o){let i='.shk-item[data-id="'+e+'"]',r=document.querySelectorAll(i);r.forEach(function(e,t,o){e.querySelector(".item_compare").classList.add("active"),e.querySelector(".item_compare").classList.remove("inactive")})})}}Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,o=Number(arguments[1])||0;for((o=o<0?Math.ceil(o):Math.floor(o))<0&&(o+=t);o<t;o++)if(o in this&&this[o]===e)return o;return-1});var shkCompare=new compareHandler;