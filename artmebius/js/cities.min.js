var ip,chosenCity,prevTpl;getIP();
function renderTemplate(a,b){("undefined"==b||"null"==b?0:b)?jQuery("#artmebius-city").html('<a id="choose-city" class="city_choose" data-target="#cities_choose" data-toggle="modal" href="javascript:void(0)" onClick="showCities();"><i class="fal fa-map-marker-alt"></i><span class="choosen-city">'+a+'?</span></a> <a id="city-yes" class="city_confirm" href="javascript:void(0);" onClick="cityYes();"><span>\u0412\u0435\u0440\u043d\u043e!</span></a>'):jQuery("#artmebius-city").html('<a id="choose-city" class="city_choose" href="javascript:void(0)" onClick="showCities();" data-target="#cities_choose" data-toggle="modal"><i class="fal fa-map-marker-alt"></i><span class="choosen-city">'+a+
"</span></a>")}function init(){var a=ymaps.geolocation;a?(chosenCity=a.city,renderTemplate(a.city,1)):(chosenCity="\u0413\u043e\u0440\u043e\u0434 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c",renderTemplate(a.city))}function getIP(){jQuery.ajax({url:"/artmebius/snippets/ajax.php",type:"POST",dataType:"html",data:{action:"getIP",method:"geoIp"},success:function(a){ip=a;checkUserIP(ip)}})}
function checkUserIP(a){jQuery.ajax({url:"/artmebius/snippets/ajax.php",type:"POST",dataType:"html",data:{action:"checkIP",ip:a,method:"geoIp"},success:function(a){""===a?ymaps.ready(init):renderTemplate(a)}})}function cityYes(a){a||(a=chosenCity);jQuery.ajax({url:"/artmebius/snippets/ajax.php",type:"POST",dataType:"html",data:{action:"insert-city",location:chosenCity,userip:ip,method:"geoIp"},success:function(a){renderTemplate(chosenCity)}})}
function chooseCity(a){chosenCity=a;jQuery.ajax({url:"/artmebius/snippets/ajax.php",type:"POST",dataType:"html",data:{action:"choose-city",location:chosenCity,userip:ip,method:"geoIp"},success:function(a){renderTemplate(chosenCity);jQuery("#artmebius-city").removeClass("active-city-list").addClass("unactive-city-list")}});$("#cities_choose").modal("hide")}
function showCities(){prevTpl=jQuery("#artmebius-city").clone(1);var a="<span>\u0410</span>;\u0410\u0431\u0430\u043a\u0430\u043d;\u0410\u043b\u044c\u043c\u0435\u0442\u044c\u0435\u0432\u0441\u043a;\u0410\u043d\u0430\u0434\u044b\u0440\u044c;\u0410\u043d\u0430\u043f\u0430;\u0410\u043d\u0433\u0430\u0440\u0441\u043a;\u0410\u043f\u0430\u0442\u0438\u0442\u044b;\u0410\u0440\u043c\u0430\u0432\u0438\u0440;\u0410\u0440\u0437\u0430\u043c\u0430\u0437;\u0410\u0440\u0441\u043a;\u0410\u0440\u0445\u0430\u043d\u0433\u0435\u043b\u044c\u0441\u043a;\u0410\u0441\u0442\u0440\u0430\u0445\u0430\u043d\u044c;\u0410\u0447\u0438\u043d\u0441\u043a;<span>\u0411</span>;\u0411\u0430\u043b\u0430\u043a\u043e\u0432\u043e;\u0411\u0430\u043b\u0430\u0445\u043d\u0430;\u0411\u0430\u043b\u0430\u0448\u0438\u0445\u0430;\u0411\u0430\u0440\u043d\u0430\u0443\u043b;<b>\u0411\u0435\u043b\u0433\u043e\u0440\u043e\u0434</b>;\u0411\u0435\u043b\u043e\u0433\u043e\u0440\u0441\u043a;\u0411\u0435\u0440\u0434\u0441\u043a;\u0411\u0435\u0440\u0435\u0437\u043d\u0438\u043a\u0438;\u0411\u0438\u0439\u0441\u043a;\u0411\u0438\u0440\u043e\u0431\u0438\u0434\u0436\u0430\u043d;\u0411\u043b\u0430\u0433\u043e\u0432\u0435\u0449\u0435\u043d\u0441\u043a;\u0411\u0440\u0430\u0442\u0441\u043a;\u0411\u0440\u044f\u043d\u0441\u043a;\u0411\u0443\u0433\u0443\u043b\u044c\u043c\u0430;<span>\u0412</span>;\u0412\u0435\u043b\u0438\u043a\u0438\u0435 \u041b\u0443\u043a\u0438;\u0412\u0435\u043b\u0438\u043a\u0438\u0439 \u041d\u043e\u0432\u0433\u043e\u0440\u043e\u0434;\u0412\u043b\u0430\u0434\u0438\u0432\u043e\u0441\u0442\u043e\u043a;\u0412\u043b\u0430\u0434\u0438\u043a\u0430\u0432\u043a\u0430\u0437;\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440;<b>\u0412\u043e\u043b\u0433\u043e\u0433\u0440\u0430\u0434</b>;\u0412\u043e\u043b\u0433\u043e\u0434\u043e\u043d\u0441\u043a;\u0412\u043e\u043b\u0436\u0441\u043a\u0438\u0439;\u0412\u043e\u043b\u043e\u0433\u0434\u0430;\u0412\u043e\u043b\u0445\u043e\u0432;\u0412\u043e\u0440\u043a\u0443\u0442\u0430;<b>\u0412\u043e\u0440\u043e\u043d\u0435\u0436</b>;\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u0441\u043a;\u0412\u0441\u0435\u0432\u043e\u043b\u043e\u0436\u0441\u043a;\u0412\u044b\u0431\u043e\u0440\u0433;\u0412\u044b\u043a\u0441\u0430;<span>\u0413</span>;\u0413\u0430\u0442\u0447\u0438\u043d\u0430;\u0413\u043b\u0430\u0437\u043e\u0432;\u0413\u043e\u0440\u043d\u043e-\u0410\u043b\u0442\u0430\u0439\u0441\u043a;\u0413\u043e\u0440\u043e\u0434\u0435\u0446;\u0413\u0440\u043e\u0437\u043d\u044b\u0439;<span>\u0414</span>;\u0414\u0437\u0435\u0440\u0436\u0438\u043d\u0441\u043a;\u0414\u0438\u043c\u0438\u0442\u0440\u043e\u0432\u0433\u0440\u0430\u0434;\u0414\u043c\u0438\u0442\u0440\u043e\u0432;\u0414\u043e\u043b\u0433\u043e\u043f\u0440\u0443\u0434\u043d\u044b\u0439;\u0414\u0443\u0431\u043d\u0430;<span>\u0415</span>;\u0415\u0432\u043f\u0430\u0442\u043e\u0440\u0438\u044f;\u0415\u0439\u0441\u043a;<b>\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0431\u0443\u0440\u0433</b>;\u0415\u0441\u0441\u0435\u043d\u0442\u0443\u043a\u0438;<span>\u0416</span>;\u0416\u0435\u043b\u0435\u0437\u043d\u043e\u0434\u043e\u0440\u043e\u0436\u043d\u044b\u0439;\u0416\u0438\u0433\u0443\u043b\u0435\u0432\u0441\u043a;\u0416\u0443\u043a\u043e\u0432\u0441\u043a\u0438\u0439;<span>\u0417</span>;\u0417\u0435\u043b\u0435\u043d\u043e\u0433\u0440\u0430\u0434;<span>\u0418</span>;<b>\u0418\u0432\u0430\u043d\u043e\u0432\u043e</b>;\u0418\u0432\u0430\u043d\u0442\u0435\u0435\u0432\u043a\u0430;<b>\u0418\u0436\u0435\u0432\u0441\u043a</b>;\u0418\u0440\u043a\u0443\u0442\u0441\u043a;\u0418\u0448\u0438\u043c;\u0419\u043e\u0448\u043a\u0430\u0440-\u041e\u043b\u0430;<span>\u041a</span>;<b>\u041a\u0430\u0437\u0430\u043d\u044c</b>;\u041a\u0430\u043b\u0438\u043d\u0438\u043d\u0433\u0440\u0430\u0434;\u041a\u0430\u043b\u0443\u0433\u0430;\u041a\u0430\u043c\u0435\u043d\u0441\u043a-\u0423\u0440\u0430\u043b\u044c\u0441\u043a\u0438\u0439;\u041a\u0430\u043c\u0435\u043d\u0441\u043a-\u0428\u0430\u0445\u0442\u0438\u043d\u0441\u043a\u0438\u0439;\u041a\u0430\u043c\u044b\u0448\u0438\u043d;\u041a\u0435\u043c\u0435\u0440\u043e\u0432\u043e;\u041a\u0435\u0440\u0447\u044c;\u041a\u0438\u0440\u0438\u0448\u0438;<b>\u041a\u0438\u0440\u043e\u0432</b>;\u041a\u0438\u0441\u043b\u043e\u0432\u043e\u0434\u0441\u043a;\u041a\u043b\u0438\u043c\u043e\u0432\u0441\u043a;\u041a\u043e\u0432\u0440\u043e\u0432;\u041a\u043e\u043b\u043e\u043c\u043d\u0430;\u041a\u043e\u043c\u0441\u043e\u043c\u043e\u043b\u044c\u0441\u043a-\u043d\u0430-\u0410\u043c\u0443\u0440\u0435;\u041a\u043e\u043d\u0434\u043e\u043f\u043e\u0433\u0430;\u041a\u043e\u0440\u043e\u043b\u0451\u0432;\u041a\u043e\u0441\u0442\u0440\u043e\u043c\u0430;\u041a\u0440\u0430\u0441\u043d\u043e\u0433\u043e\u0440\u0441\u043a;<b>\u041a\u0440\u0430\u0441\u043d\u043e\u0434\u0430\u0440</b>;<b>\u041a\u0440\u0430\u0441\u043d\u043e\u044f\u0440\u0441\u043a</b>;\u041a\u0441\u0442\u043e\u0432\u043e;\u041a\u0443\u0440\u0433\u0430\u043d;\u041a\u0443\u0440\u0441\u043a;\u041a\u044b\u0437\u044b\u043b;<span>\u041b</span>;<b>\u041b\u0438\u043f\u0435\u0446\u043a</b>;<span>\u041c</span>;\u041c\u0430\u0433\u0430\u0434\u0430\u043d;<b>\u041c\u0430\u0433\u043d\u0438\u0442\u043e\u0433\u043e\u0440\u0441\u043a</b>;\u041c\u0430\u0439\u043a\u043e\u043f;\u041c\u0430\u0445\u0430\u0447\u043a\u0430\u043b\u0430;\u041c\u0435\u0436\u0434\u0443\u0440\u0435\u0447\u0435\u043d\u0441\u043a;\u041c\u0438\u0430\u0441\u0441;\u041c\u0438\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u044b\u0435 \u0412\u043e\u0434\u044b;\u041c\u0438\u043d\u0443\u0441\u0438\u043d\u0441\u043a;\u041c\u043e\u0436\u0430\u0439\u0441\u043a;<b>\u041c\u043e\u0441\u043a\u0432\u0430</b>;\u041c\u0443\u0440\u043c\u0430\u043d\u0441\u043a;\u041c\u0443\u0440\u043e\u043c;<span>\u041d</span>;<b>\u041d\u0430\u0431\u0435\u0440\u0435\u0436\u043d\u044b\u0435 \u0427\u0435\u043b\u043d\u044b</b>;\u041d\u0430\u0437\u0440\u0430\u043d\u044c;\u041d\u0430\u043b\u044c\u0447\u0438\u043a;\u041d\u0430\u0445\u043e\u0434\u043a\u0430;\u041d\u0435\u0432\u0438\u043d\u043d\u043e\u043c\u044b\u0441\u0441\u043a;\u041d\u0435\u0444\u0442\u0435\u043a\u0430\u043c\u0441\u043a;\u041d\u0435\u0444\u0442\u0435\u044e\u0433\u0430\u043d\u0441\u043a;\u041d\u0438\u0436\u043d\u0435\u0432\u0430\u0440\u0442\u043e\u0432\u0441\u043a;\u041d\u0438\u0436\u043d\u0435\u043a\u0430\u043c\u0441\u043a;<b>\u041d\u0438\u0436\u043d\u0438\u0439 \u041d\u043e\u0432\u0433\u043e\u0440\u043e\u0434</b>;<b>\u041d\u0438\u0436\u043d\u0438\u0439 \u0422\u0430\u0433\u0438\u043b</b>;\u041d\u043e\u0432\u043e\u043a\u0443\u0437\u043d\u0435\u0446\u043a;\u041d\u043e\u0432\u043e\u043c\u043e\u0441\u043a\u043e\u0432\u0441\u043a;<b>\u041d\u043e\u0432\u043e\u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a</b>;<b>\u041d\u043e\u0432\u043e\u0441\u0438\u0431\u0438\u0440\u0441\u043a</b>;\u041d\u043e\u0432\u043e\u0447\u0435\u0431\u043e\u043a\u0441\u0430\u0440\u0441\u043a;\u041d\u043e\u0432\u043e\u0447\u0435\u0440\u043a\u0430\u0441\u0441\u043a;\u041d\u043e\u0432\u044b\u0439 \u0423\u0440\u0435\u043d\u0433\u043e\u0439;\u041d\u043e\u0440\u0438\u043b\u044c\u0441\u043a;\u041d\u043e\u044f\u0431\u0440\u044c\u0441\u043a;<span>\u041e</span>;\u041e\u0431\u043d\u0438\u043d\u0441\u043a;\u041e\u0437\u0435\u0440\u0441\u043a;<b>\u041e\u043c\u0441\u043a</b>;\u041e\u0440\u0435\u043b;\u041e\u0440\u0435\u043d\u0431\u0443\u0440\u0433;\u041e\u0440\u0435\u0445\u043e\u0432\u043e-\u0417\u0443\u0435\u0432\u043e;\u041e\u0440\u0441\u043a;<span>\u041f</span>;<b>\u041f\u0435\u043d\u0437\u0430</b>;\u041f\u0435\u0440\u0432\u043e\u0443\u0440\u0430\u043b\u044c\u0441\u043a;<b>\u041f\u0435\u0440\u043c\u044c</b>;\u041f\u0435\u0442\u0440\u043e\u0437\u0430\u0432\u043e\u0434\u0441\u043a;\u041f\u0435\u0442\u0440\u043e\u043f\u0430\u0432\u043b\u043e\u0432\u0441\u043a-\u041a\u0430\u043c\u0447\u0430\u0442\u0441\u043a\u0438\u0439;\u041f\u043e\u0434\u043e\u043b\u044c\u0441\u043a;\u041f\u0441\u043a\u043e\u0432;\u041f\u0443\u0449\u0438\u043d\u043e;<b>\u041f\u044f\u0442\u0438\u0433\u043e\u0440\u0441\u043a</b>;<span>\u0420</span>;\u0420\u0430\u043c\u0435\u043d\u0441\u043a\u043e\u0435;<b>\u0420\u043e\u0441\u0442\u043e\u0432-\u043d\u0430-\u0414\u043e\u043d\u0443</b>;\u0420\u044b\u0431\u0438\u043d\u0441\u043a;\u0420\u044f\u0437\u0430\u043d\u044c;<span>\u0421</span>;\u0421\u0430\u043b\u0430\u0432\u0430\u0442;\u0421\u0430\u043b\u0435\u0445\u0430\u0440\u0434;<b>\u0421\u0430\u043c\u0430\u0440\u0430</b>;<b>\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433</b>;\u0421\u0430\u0440\u0430\u043d\u0441\u043a;\u0421\u0430\u0440\u0430\u043f\u0443\u043b;<b>\u0421\u0430\u0440\u0430\u0442\u043e\u0432</b>;\u0421\u0430\u0440\u043e\u0432;\u0421\u0430\u0442\u043a\u0430;\u0421\u0435\u0432\u0430\u0441\u0442\u043e\u043f\u043e\u043b\u044c;\u0421\u0435\u0432\u0435\u0440\u043e\u0434\u0432\u0438\u043d\u0441\u043a;\u0421\u0435\u0432\u0435\u0440\u0441\u043a;\u0421\u0435\u0440\u0433\u0438\u0435\u0432 \u041f\u043e\u0441\u0430\u0434;\u0421\u0435\u0440\u043f\u0443\u0445\u043e\u0432;\u0421\u0438\u043c\u0444\u0435\u0440\u043e\u043f\u043e\u043b\u044c;\u0421\u043c\u043e\u043b\u0435\u043d\u0441\u043a;\u0421\u043e\u0440\u0442\u0430\u0432\u0430\u043b\u0430;\u0421\u043e\u0447\u0438;<b>\u0421\u0442\u0430\u0432\u0440\u043e\u043f\u043e\u043b\u044c</b>;\u0421\u0442\u0430\u0440\u044b\u0439 \u041e\u0441\u043a\u043e\u043b;\u0421\u0442\u0435\u0440\u043b\u0438\u0442\u0430\u043c\u0430\u043a;\u0421\u0443\u0440\u0433\u0443\u0442;\u0421\u044b\u0437\u0440\u0430\u043d\u044c;\u0421\u044b\u043a\u0442\u044b\u0432\u043a\u0430\u0440;<span>\u0422</span>;\u0422\u0430\u0433\u0430\u043d\u0440\u043e\u0433;\u0422\u0430\u043c\u0431\u043e\u0432;\u0422\u0432\u0435\u0440\u044c;\u0422\u0438\u0445\u0432\u0438\u043d;\u0422\u043e\u0431\u043e\u043b\u044c\u0441\u043a;<b>\u0422\u043e\u043b\u044c\u044f\u0442\u0442\u0438</b>;\u0422\u043e\u043c\u0441\u043a;\u0422\u0443\u0430\u043f\u0441\u0435;<b>\u0422\u0443\u043b\u0430</b>;\u0422\u0443\u0442\u0430\u0435\u0432;\u0422\u044b\u043d\u0434\u0430;<b>\u0422\u044e\u043c\u0435\u043d\u044c</b>;<span>\u0423</span>;\u0423\u043b\u0430\u043d-\u0423\u0434\u044d;<b>\u0423\u043b\u044c\u044f\u043d\u043e\u0432\u0441\u043a</b>;\u0423\u0441\u0438\u043d\u0441\u043a;\u0423\u0441\u0441\u0443\u0440\u0438\u0439\u0441\u043a;\u0423\u0441\u0442\u044c-\u0418\u043b\u0438\u043c\u0441\u043a;<b>\u0423\u0444\u0430</b>;\u0423\u0445\u0442\u0430;<span>\u0424</span>;\u0424\u0435\u043e\u0434\u043e\u0441\u0438\u044f;\u0424\u0440\u044f\u0437\u0438\u043d\u043e;<span>\u0425</span>;\u0425\u0430\u0431\u0430\u0440\u043e\u0432\u0441\u043a;\u0425\u0430\u043d\u0442\u044b-\u041c\u0430\u043d\u0441\u0438\u0439\u0441\u043a;<span>\u0427</span>;<b>\u0427\u0435\u0431\u043e\u043a\u0441\u0430\u0440\u044b</b>;<b>\u0427\u0435\u043b\u044f\u0431\u0438\u043d\u0441\u043a</b>;\u0427\u0435\u0440\u0435\u043f\u043e\u0432\u0435\u0446;\u0427\u0435\u0440\u043a\u0435\u0441\u0441\u043a;\u0427\u0435\u0440\u043d\u043e\u0433\u043e\u043b\u043e\u0432\u043a\u0430;\u0427\u0438\u0442\u0430;<span>\u0428</span>;\u0428\u0430\u0445\u0442\u044b;\u0429\u0435\u043b\u043a\u043e\u0432\u043e;<span>\u042d</span>;\u042d\u043b\u0438\u0441\u0442\u0430;\u042d\u043d\u0433\u0435\u043b\u044c\u0441;<span>\u042e</span>;\u042e\u0436\u043d\u043e-\u0421\u0430\u0445\u0430\u043b\u0438\u043d\u0441\u043a;<span>\u042f</span>;\u042f\u043a\u0443\u0442\u0441\u043a;\u042f\u043b\u0442\u0430;<b>\u042f\u0440\u043e\u0441\u043b\u0430\u0432\u043b\u044c</b>".split(";");var b=
'<ul class="artmebius-city-list">';for(i=0;i<a.length;i++){var c=a[i][0]+a[i][1];b="<s"==c?b+"<li>"+a[i]+"</li>":b+'<li><a id="city-yes" href="javascript:void(0)" onClick="chooseCity(\''+a[i]+"')\">"+a[i]+"</a></li>"}b+="</ul>";jQuery("#cities_modal").html(b).removeClass("unactive-city-list").addClass("active-city-list")}function closeCities(){jQuery("#artmebius-city").fadeOut("300",function(){jQuery(this).replaceWith(prevTpl)})};