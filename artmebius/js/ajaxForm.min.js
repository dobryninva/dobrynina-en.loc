var AjaxForm={initialize:function(b){function f(g){$(g).ajaxSubmit({dataType:"json",data:{pageId:b.pageId},url:b.actionUrl,beforeSerialize:function(a,c){a.find(":submit").each(function(){a.find('input[type="hidden"][name="'+$(this).attr("name")+'"]').length||$(a).append($('<input type="hidden">').attr({name:$(this).attr("name"),value:$(this).attr("value")}))})},beforeSubmit:function(a,c){if("undefined"!=typeof afValidated&&0==afValidated)return!1;c.find("div.error, span.error").html("");c.find(".error").removeClass("error");
c.find(".has-error").removeClass("has-error");c.find("input,textarea,select,button").attr("disabled",!0);return!0},success:function(a,c,b,d){d.find("input,textarea,select,button").attr("disabled",!1);a.form=d;$(document).trigger("af_complete",a);if(a.success)d.find(".error").removeClass("error"),d[0].reset(),a=jQuery(d[0]).next(".custom_success_message"),jQuery(d[0]).remove(),a.fadeIn(300);else if(a.data)for(var e in a.data)a.data.hasOwnProperty(e)&&(c=a.data[e],d.find(".error_"+e).html(c).addClass("error"),
d.find('[name="'+e+'"],[name="'+e+'[]"]').addClass("error").parents(".form-group").addClass("has-error"))}})}jQuery().ajaxForm||document.write('<script src="'+b.assetsUrl+'js/lib/jquery.form.min.js">\x3c/script>');grecaptcha.ready(function(){$(b.formSelector).each(function(){$(this).find('[name="token"]').length&&captcha_exec(this,"form_load")})});$(document).on("submit",b.formSelector,function(b){$(this).find('[name="token"]').length?captcha_exec(this,"form_send",f):f(this);b.preventDefault();return!1});
$(document).on("reset",b.formSelector,function(b){$(this).find(".error").html("")})}};